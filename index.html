<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>작물 병해 분석 & 농약 추천</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="container">
      <h1>작물 병해 분석 & 농약 추천</h1>
      <p class="muted">이미지를 업로드하면 모델이 병해를 분류하고, CSV 데이터를 기반으로 권장 농약을 제안합니다.</p>
    </header>

    <main class="container">
      <section class="card">
        <h2>📸 이미지 업로드</h2>
        <p class="muted" style="margin-bottom: 12px;">고추 잎 또는 열매 사진을 선택하여 병해를 진단하세요</p>
        <input id="fileInput" type="file" accept="image/*" aria-label="작물 병해 이미지 업로드" />
        <div class="preview">
          <img id="preview" alt="업로드 미리보기" />
        </div>
        <div id="status" class="status" role="status" aria-live="polite"></div>
      </section>

      <section class="card">
        <h2>🔍 분석 결과</h2>
        <div id="prediction" class="prediction" role="region" aria-label="예측 결과"></div>
        <ul id="topK" class="topk" aria-label="상위 예측 목록"></ul>
      </section>

      <section class="card">
        <div class="row" style="justify-content: space-between; margin-bottom: 16px;">
          <h2 style="margin: 0;">💊 권장 농약</h2>
          <button id="printBtn" class="print-btn" style="display: none;">
            🖨️ 인쇄하기
          </button>
        </div>
        <div id="recoInfo" class="muted small" style="margin-bottom: 12px;"></div>
        <div class="table-wrap">
          <table id="recoTable">
            <thead>
              <tr id="recoHeader"></tr>
            </thead>
            <tbody id="recoBody"></tbody>
          </table>
        </div>
      </section>

      <section class="card warn">
        <h2>⚠️ 주의사항</h2>
        <ul style="margin: 8px 0 0 20px; line-height: 1.8;">
          <li>이 결과는 <strong>참고용 시연</strong>입니다. 실제 농약 사용 시 반드시 제품 라벨을 확인하고 지역 농업기술센터 등 전문가 지침을 따르세요.</li>
          <li>AI 모델의 예측 정확도는 100%가 아니므로, 여러 정보를 종합적으로 판단하시기 바랍니다.</li>
          <li>농약 사용 시 안전사용기준을 반드시 준수하세요.</li>
        </ul>
      </section>
    </main>

    <!-- Load libraries before app.js -->
    <script src="libs/tf.min.js"></script>
    <script src="libs/teachablemachine-image.min.js"></script>
    <script src="libs/papaparse.min.js"></script>
    <script src="app.js"></script>
  </body>
  </html>

